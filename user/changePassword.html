<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thay Đổi Mật Khẩu</title>
    <link rel="stylesheet" href="../css/changePassword.css">
    <link rel="stylesheet" href="../css/style.css">
</head>

<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <img src="../image/logo.png" alt="Logo Trường">
        </div>
        <div class="school-name">
            <h3>SỞ GIÁO DỤC VÀ ĐÀO TẠO TỈNH BẮC GIANG</h3>
            <h1>TRƯỜNG TRUNG HỌC PHỔ THÔNG TÂN YÊN SỐ 2</h1>
        </div>
        <button class="logout">Đăng Xuất</button>
    </header>

    <!-- Menu -->
    <nav>
        <ul>
            <!-- <li><a href="homeUser.html">Trang Chủ</a></li>
            <li><a href="timetable.html">Thời Khóa Biểu</a></li>
            <li><a href="grades.html">Xem Điểm</a></li> -->
            <li><a href="profileStudent.html" class="active">Thông Tin</a></li>
        </ul>
    </nav>

    <!-- Nội dung chính -->
    <main class="change-password-container">
        <h2>Đổi Mật Khẩu</h2>
        <div class="password-form">
            <label for="current-password">Mật khẩu hiện tại:</label>
            <input type="password" id="current-password" required>

            <label for="new-password">Mật khẩu mới:</label>
            <input type="password" id="new-password" required>

            <label for="confirm-password">Nhập lại mật khẩu mới:</label>
            <input type="password" id="confirm-password" required>

            <button onclick="changePassword()">Cập nhật</button>
        </div>
    </main>

    <script>
        function changePassword() {
            const currentPassword = document.getElementById("current-password").value;
            const newPassword = document.getElementById("new-password").value;
            const confirmPassword = document.getElementById("confirm-password").value;

            if (!currentPassword || !newPassword || !confirmPassword) {
                alert("Vui lòng nhập đầy đủ thông tin!");
                return;
            }

            if (newPassword !== confirmPassword) {
                alert("Mật khẩu mới không trùng khớp!");
                return;
            }

            // Giả lập xác thực mật khẩu hiện tại (thực tế cần backend)
            if (currentPassword !== "123456") { // Mật khẩu cũ demo
                alert("Mật khẩu hiện tại không đúng!");
                return;
            }

            alert("Mật khẩu đã được cập nhật thành công!");
            window.location.href = 'login.html';
        }
        document.addEventListener("DOMContentLoaded", function () {
            const logoutButton = document.querySelector(".logout");

            logoutButton.addEventListener("click", function () {
                const confirmLogout = confirm("Bạn có chắc chắn muốn đăng xuất không?");
                if (confirmLogout) {
                    // Xóa dữ liệu đăng nhập (ví dụ: LocalStorage)
                    localStorage.removeItem("userRole");
                    localStorage.removeItem("userToken"); // Nếu có token lưu trữ

                    // Chuyển hướng về trang đăng nhập
                    window.location.href = "login.html";
                }
            });
        });
    </script>
</body>

</html>